<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>questionlp‚Äôs Twitter Archive‚Äî‚Ññ 39,849</title>
		<meta name="description" content="I will need to do the same for the guest, host, location, scorekeeper and panelist modules, but they aren't nearly as database query intensive as the show module. Plus, the show module is what will get hit the most when it will be used in the next version of the Stats site." />

		<link rel="profile" href="https://microformats.org/profile/hatom">
		<link rel="stylesheet" href="/assets/style.css">
		<script src="/assets/script.js" type="module"></script>
		<script src="/assets/is-land.js" type="module"></script>

		
	</head>
	<body>
		<header>
			<h1 class="tweets-title"><a href="/"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar">questionlp‚Äôs Twitter Archive</a>‚Äî‚Ññ 39,849</h1>
			
			<ul class="tweets-nav">
			<li><a href="/newest/">‚á§ Newest<span class="sr-only"> Tweet</span></a></li>
			<li><a href="/1480701843453845513/">‚á† Newer<span class="sr-only"> Tweet</span></a></li>
			<li><a href="/1480697316856139778/">Older<span class="sr-only"> Tweet</span> ‚á¢</a></li>
		</ul>
		</header>
		<main>
			<ol class="tweets tweets-thread h-feed hfeed" data-pagefind-body>
			<ol class="tweets-replies h-feed hfeed"><ol class="tweets-replies"><ol class="tweets-replies"><li id="1480697314213707777" class="tweet h-entry tweet-previous" data-pagefind-index-attrs="id">
		
			<div class="tweet-text e-content">Worked on some more significant optimization of the new Wait Wait Stats library and I have drastically reduced the time it takes to pull details for all shows in the database.

Running an ApacheBench on pre and post-optimization saw the time go from 20 sec down to &lt; 9 sec <is-land on:visible><div class="tweet-medias"><a href="/img/NeVolNlqUO.jpeg"><img src="/img/NeVolNlqUO.jpeg" width="1107" height="1200" alt="oh my god twitter doesn‚Äôt include alt text from images in their API" class="tweet-media u-featured" onerror="fallbackMedia(this)" loading="lazy" decoding="async"></a><a href="/img/W1V_5KVQkw.jpeg"><img src="/img/W1V_5KVQkw.jpeg" width="1107" height="1200" alt="oh my god twitter doesn‚Äôt include alt text from images in their API" class="tweet-media u-featured" onerror="fallbackMedia(this)" loading="lazy" decoding="async"></a></div></is-land></div>
			<span class="tweet-metadata">
				<a href="/1480697314213707777/" class="tag tag-naked">Permalink</a>
				<a href="https://twitter.com/questionlp/status/1480697314213707777" class="tag tag-icon u-url" data-pagefind-index-attrs="href"><span class="sr-only">On twitter.com </span><img src="https://v1.indieweb-avatar.11ty.dev/https%3A%2F%2Ftwitter.com%2F/" alt="Twitter logo" width="27" height="27"></a>
				
				<a href="/" class="tag tag-naked tag-lite tag-avatar"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar"></a>
				<span class="tag tag-lite tag-favorite">‚ù§Ô∏è 3<span class="sr-only"> Favorites</span></span>
				<time class="tag tag-naked tag-lite dt-published" datetime="2022-01-11T00:25:24.000Z">Tue, 11 Jan 2022 00:25:24 GMT</time>
				<span class="tag tag-naked tag-lite sr-only">Mood +<strong class="tweet-sentiment">1</strong> üôÇ</span>
			</span>
		</li></ol><li id="1480697315904024576" class="tweet h-entry tweet-previous" data-pagefind-index-attrs="id">
		<a href="/1480697314213707777/" class="tweet-pretext u-in-reply-to">‚Ä¶in reply to @questionlp</a>
			<div class="tweet-text e-content">Why the significant drop? I started v2 by "porting" the logic from v1 when I started the whole re-architecture project. Requesting multiple shows means looping through and hitting the database 3x for each show. Multiply that by ~ 1500 shows. Death by 1000+ cuts.</div>
			<span class="tweet-metadata">
				<a href="/1480697315904024576/" class="tag tag-naked">Permalink</a>
				<a href="https://twitter.com/questionlp/status/1480697315904024576" class="tag tag-icon u-url" data-pagefind-index-attrs="href"><span class="sr-only">On twitter.com </span><img src="https://v1.indieweb-avatar.11ty.dev/https%3A%2F%2Ftwitter.com%2F/" alt="Twitter logo" width="27" height="27"></a>
				
				<a href="/" class="tag tag-naked tag-lite tag-avatar"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar"></a>
				
				<time class="tag tag-naked tag-lite dt-published" datetime="2022-01-11T00:25:24.000Z">Tue, 11 Jan 2022 00:25:24 GMT</time>
				<span class="tag tag-naked tag-lite sr-only">Mood <strong class="tweet-sentiment">-3</strong> üôÅ</span>
			</span>
		</li></ol><li id="1480697316856139778" class="tweet h-entry tweet-previous" data-pagefind-index-attrs="id">
		<a href="/1480697315904024576/" class="tweet-pretext u-in-reply-to">‚Ä¶in reply to @questionlp</a>
			<div class="tweet-text e-content">I created new method variations that handle multiple IDs or pulling and parse all shows all in one query execution per method.

I still have to loop through the results, but the results are already pulled into memory versus using cursors.

No more death by 1000+ cuts.</div>
			<span class="tweet-metadata">
				<a href="/1480697316856139778/" class="tag tag-naked">Permalink</a>
				<a href="https://twitter.com/questionlp/status/1480697316856139778" class="tag tag-icon u-url" data-pagefind-index-attrs="href"><span class="sr-only">On twitter.com </span><img src="https://v1.indieweb-avatar.11ty.dev/https%3A%2F%2Ftwitter.com%2F/" alt="Twitter logo" width="27" height="27"></a>
				
				<a href="/" class="tag tag-naked tag-lite tag-avatar"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar"></a>
				
				<time class="tag tag-naked tag-lite dt-published" datetime="2022-01-11T00:25:25.000Z">Tue, 11 Jan 2022 00:25:25 GMT</time>
				<span class="tag tag-naked tag-lite sr-only">Mood <strong class="tweet-sentiment">-4</strong> üôÅ</span>
			</span>
		</li></ol>
			<li id="1480697317749510145" class="tweet h-entry" data-pagefind-index-attrs="id">
		<a href="/1480697316856139778/" class="tweet-pretext u-in-reply-to">‚Ä¶in reply to @questionlp</a>
			<div class="tweet-text e-content" data-pagefind-body>I will need to do the same for the guest, host, location, scorekeeper and panelist modules, but they aren't nearly as database query intensive as the show module.

Plus, the show module is what will get hit the most when it will be used in the next version of the Stats site.</div>
			<span class="tweet-metadata">
				
				<a href="https://twitter.com/questionlp/status/1480697317749510145" class="tag tag-icon u-url" data-pagefind-index-attrs="href"><span class="sr-only">On twitter.com </span><img src="https://v1.indieweb-avatar.11ty.dev/https%3A%2F%2Ftwitter.com%2F/" alt="Twitter logo" width="27" height="27"></a>
				
				<a href="/" class="tag tag-naked tag-lite tag-avatar"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar"></a>
				
				<time class="tag tag-naked tag-lite dt-published" datetime="2022-01-11T00:25:25.000Z">Tue, 11 Jan 2022 00:25:25 GMT</time>
				<span class="tag tag-naked tag-lite sr-only">Mood <strong class="tweet-sentiment">0</strong></span>
			</span>
		</li>
			<ol class="tweets-replies h-feed hfeed"><li id="1480701843453845513" class="tweet h-entry tweet-next" data-pagefind-index-attrs="id">
		<a href="/1480697317749510145/" class="tweet-pretext u-in-reply-to">‚Ä¶in reply to @questionlp</a>
			<div class="tweet-text e-content">I ran the ApacheBench test before and after the optimization out the beta instance of the API hosted in DigitalOcean. The pre-opt run had 3 failed requests and took ~ 54 sec to run. The post-opt run had 0 failed requests and took ~ 17 sec to run.

Progress! <is-land on:visible><div class="tweet-medias"><a href="/img/kFHQ3bHK-o.jpeg"><img src="/img/kFHQ3bHK-o.jpeg" width="999" height="1200" alt="oh my god twitter doesn‚Äôt include alt text from images in their API" class="tweet-media u-featured" onerror="fallbackMedia(this)" loading="lazy" decoding="async"></a><a href="/img/o1WUYfFdrv.jpeg"><img src="/img/o1WUYfFdrv.jpeg" width="999" height="1200" alt="oh my god twitter doesn‚Äôt include alt text from images in their API" class="tweet-media u-featured" onerror="fallbackMedia(this)" loading="lazy" decoding="async"></a></div></is-land></div>
			<span class="tweet-metadata">
				<a href="/1480701843453845513/" class="tag tag-naked">Permalink</a>
				<a href="https://twitter.com/questionlp/status/1480701843453845513" class="tag tag-icon u-url" data-pagefind-index-attrs="href"><span class="sr-only">On twitter.com </span><img src="https://v1.indieweb-avatar.11ty.dev/https%3A%2F%2Ftwitter.com%2F/" alt="Twitter logo" width="27" height="27"></a>
				
				<a href="/" class="tag tag-naked tag-lite tag-avatar"><img src="https://questionlp.github.io/img/twitter_avatar.png" width="52" height="52" alt="questionlp‚Äôs avatar" class="tweet-avatar"></a>
				<span class="tag tag-lite tag-favorite">‚ù§Ô∏è 1<span class="sr-only"> Favorite</span></span>
				<time class="tag tag-naked tag-lite dt-published" datetime="2022-01-11T00:43:24.000Z">Tue, 11 Jan 2022 00:43:24 GMT</time>
				<span class="tag tag-naked tag-lite sr-only">Mood <strong class="tweet-sentiment">-2</strong> üôÅ</span>
			</span>
		</li></ol>
		</ol>
		</main>
		<footer>
			<p>An open source project from <a href="https://github.com/tweetback">tweetback</a>.</p>
		</footer>
	</body>
</html>